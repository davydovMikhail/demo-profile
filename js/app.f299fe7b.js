(function(){var t={915:function(t,e,s){"use strict";var n=s(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.IS_CONNECTED?e("div",[e("router-view")],1):e("div",{staticClass:"mx-auto"},[e("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"button"},on:{click:t.CONNECT_METAMASK}},[t._v("Connect Wallet")])]),e("main-window"),t.LOADER?e("main-loader"):t._e()],1)},r=[],i=s(3822),o=function(){var t=this;t._self._c;return t._m(0)},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloader"},[e("div",{staticClass:"preloader__loader"})])}],c=s(1001),d={},u=(0,c.Z)(d,o,l,!1,null,"053e226f",null),p=u.exports,f=function(){var t=this,e=t._self._c;return t.MESSAGE?e("div",{staticClass:"premodal",on:{click:function(e){return t.SET_MESSAGE("")}}},[e("div",{staticClass:"modal-dialog dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Message")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Закрыть"},on:{click:function(e){return t.SET_MESSAGE("")}}})]),e("div",{staticClass:"modal-body"},[e("p",[t._v(t._s(t.MESSAGE))])])])])]):t._e()},_=[],m={computed:{...(0,i.Se)(["MESSAGE"])},methods:{...(0,i.OI)(["SET_MESSAGE"])}},T=m,E=(0,c.Z)(T,f,_,!1,null,"c62353d2",null),y=E.exports,h={name:"App",components:{MainLoader:p,MainWindow:y},computed:{...(0,i.Se)(["IS_CONNECTED","LOADER","ORACLE_PROPOSALS"])},methods:{...(0,i.nv)(["CONNECT_METAMASK"])}},S=h,A=(0,c.Z)(S,a,r,!1,null,null,null),C=A.exports,v=s(2631),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hello"},[e("div",{staticClass:"home__container"},[e("div",{staticClass:"input-group mb-3"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-default"}},[t._v("Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleCreateProfile}},[t._v("Create New Profile Contract")])]),e("div",{staticClass:"home__title"},[t._v(" My Profiles: ")]),e("div",{staticClass:"home__container"},t._l(t.PROFILES_ARRAY,(function(t,s){return e("profile-address",{key:s,attrs:{address:t}})})),1),e("div",{staticClass:"home__title"},[t._v(" Transmitted Profiles: ")]),e("div",{staticClass:"home__container"},t._l(t.TRANSMITTED_PROFILES,(function(t,s){return e("transmitted-profile",{key:s,attrs:{address:t}})})),1),e("div",{staticClass:"home__title"},[t._v(" AcceptedProfiles ")]),e("div",{staticClass:"home__container"},t._l(t.ACCEPTED_PROFILES,(function(t,s){return e("accepted-profile",{key:s,attrs:{address:t}})})),1)])},w=[],P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body address"},[e("div",{staticClass:"address__text"},[t._v(" "+t._s(t.address)+" ")]),e("div",{staticClass:"address__buttons"},[e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-right":"10px"},attrs:{type:"button"},on:{click:function(e){return t.openModal()}}},[t._v("Transfer Ownership")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.handleDelete()}}},[t._v("Delete")])])]),t.isOpen?e("div",{staticClass:"premodal"},[e("div",{staticClass:"modal-dialog dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Transfer Ownership")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Закрыть"},on:{click:function(e){return t.closeModal()}}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"mb-3 row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"staticEmail"}},[t._v("Profile Address:")]),e("div",{staticClass:"col-sm-10"},[e("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:"",id:"staticEmail"},domProps:{value:t.address}})])]),e("div",{staticClass:"mb-3 row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"input1"}},[t._v("New Owner Address:")]),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newOwner,expression:"newOwner"}],staticClass:"form-control",attrs:{type:"text",id:"input1"},domProps:{value:t.newOwner},on:{input:function(e){e.target.composing||(t.newOwner=e.target.value)}}})])])]),e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.handleTransfer()}}},[t._v("Transfer")])])])]):t._e()])},O=[],g={data(){return{newOwner:"",isOpen:!1}},props:{address:String},methods:{...(0,i.nv)(["SEND_DATA"]),async handleDelete(){const t={method:"deleteProfile",params:[this.address]};await this.SEND_DATA(t),this.isOpen=!1},async handleTransfer(){const t={method:"transferProfileOwnership",params:[this.newOwner,this.address]};await this.SEND_DATA(t),this.isOpen=!1},openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1}}},R=g,D=(0,c.Z)(R,P,O,!1,null,"18e9ea45",null),N=D.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body address"},[e("div",{staticClass:"address__text"},[t._v(" "+t._s(t.address)+" ")]),e("div",{staticClass:"address__buttons"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.handleTransfer()}}},[t._v("Cancel Transfer")])])])])},I=[],L={props:{address:String},methods:{...(0,i.nv)(["SEND_DATA"]),async handleTransfer(){const t={method:"cancelTransferProfileOwnership",params:[this.address]};await this.SEND_DATA(t)}}},F=L,x=(0,c.Z)(F,M,I,!1,null,"555f3933",null),k=x.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body address"},[e("div",{staticClass:"address__text"},[t._v(" "+t._s(t.address)+" ")]),e("div",{staticClass:"address__buttons"},[e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-right":"10px"},attrs:{type:"button"},on:{click:function(e){return t.handleAccept()}}},[t._v("Accept Ownership")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.handleCancel()}}},[t._v("Cancel")])])])])},Z=[],Y={props:{address:String},methods:{...(0,i.nv)(["SEND_DATA"]),async handleCancel(){const t={method:"cancelTransferProfileOwnership",params:[this.address]};await this.SEND_DATA(t)},async handleAccept(){const t={method:"acceptProfileOwnership",params:[this.address]};await this.SEND_DATA(t)}}},j=Y,U=(0,c.Z)(j,G,Z,!1,null,"90e060b6",null),q=U.exports,W={name:"HelloWorld",components:{ProfileAddress:N,TransmittedProfile:k,AcceptedProfile:q},created(){this.GET_PROFILES_ARRAY(),this.GET_TRANSMITTED_PROFILES(),this.GET_ACCEPTED_PROFILES()},data(){return{fullName:""}},methods:{...(0,i.nv)(["SEND_DATA","GET_PROFILES_ARRAY","GET_TRANSMITTED_PROFILES","GET_ACCEPTED_PROFILES"]),handleCreateProfile(){if(this.fullName){const t={method:"createNewProfileContract",params:[this.fullName]};this.SEND_DATA(t)}else this.$vToastify.info("Fill full name","Validation warning")}},computed:{...(0,i.Se)(["PROFILES_ARRAY","TRANSMITTED_PROFILES","ACCEPTED_PROFILES"])}},B=W,K=(0,c.Z)(B,b,w,!1,null,"f666ce2a",null),$=K.exports;n.ZP.use(v.ZP);const z=[{path:"/",name:"oracles",component:$}],H=new v.ZP({mode:"history",base:"/demo-profile/",routes:z});var V=H,X=s(6477);n.ZP.use(i.ZP);var J=new i.ZP.Store({state:{loader:!1,isConnected:!1,message:"",profilesArray:[],transmittedProfiles:[],acceptedProfiles:[]},getters:{IS_CONNECTED:t=>t.isConnected,MESSAGE:t=>t.message,LOADER:t=>t.loader,PROFILES_ARRAY:t=>t.profilesArray,TRANSMITTED_PROFILES:t=>t.transmittedProfiles,ACCEPTED_PROFILES:t=>t.acceptedProfiles},mutations:{SET_CONNECT_STATUS:(t,e)=>t.isConnected=e,SET_LOADER_STATUS:(t,e)=>t.loader=e,SET_MESSAGE:(t,e)=>t.message=e,SET_PROFILES_ARRAY:(t,e)=>t.profilesArray=e,SET_TRANSMITTED_PROFILES:(t,e)=>t.transmittedProfiles=e,SET_ACCEPTED_PROFILES:(t,e)=>t.acceptedProfiles=e},actions:{async CONNECT_METAMASK({commit:t}){t("SET_LOADER_STATUS",!0);const e=await(0,X.connect)();e&&t("SET_CONNECT_STATUS",!0),t("SET_LOADER_STATUS",!1)},async SEND_DATA({commit:t},e){t("SET_LOADER_STATUS",!0),t("SET_MESSAGE","");const s=await(0,X.checkAddress)();if(s){const s=await(0,X.sendDataToContract)(e.method,e.params);s.hash?t("SET_MESSAGE",`https://goerli.etherscan.io/tx/${s.hash}`):s.error.message&&t("SET_MESSAGE",s.error.message)}else t("SET_CONNECT_STATUS",!1);t("SET_LOADER_STATUS",!1)},async GET_PROFILES_ARRAY({commit:t}){t("SET_PROFILES_ARRAY",[]);const e=await(0,X.getFirstAddress)(),s=await(0,X.fetchContractData)("getLengthProfilesArray",[e]),n=await(0,X.fetchContractData)("getSliceProfilesArray",[e,0,s]);console.log(n);const a=n;t("SET_PROFILES_ARRAY",a)},async GET_TRANSMITTED_PROFILES({commit:t}){t("SET_TRANSMITTED_PROFILES",[]);const e=await(0,X.getFirstAddress)(),s=await(0,X.fetchContractData)("getTransmittedProfiles",[e]),n=s;t("SET_TRANSMITTED_PROFILES",n)},async GET_ACCEPTED_PROFILES({commit:t}){t("SET_ACCEPTED_PROFILES",[]);const e=await(0,X.getFirstAddress)(),s=await(0,X.fetchContractData)("getAcceptedProfiles",[e]),n=s;t("SET_ACCEPTED_PROFILES",n)}},modules:{}}),Q=s(461),tt=s.n(Q);n.ZP.config.productionTip=!1,n.ZP.use(tt()),new n.ZP({router:V,store:J,render:t=>t(C)}).$mount("#app")},425:function(t,e,s){"use strict";s.r(e),s.d(e,{abi:function(){return n}});const n=[{inputs:[{internalType:"address",name:"_masterAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"_profile",type:"address"}],name:"acceptProfileOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_profile",type:"address"}],name:"cancelTransferProfileOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_fullName",type:"string"}],name:"createNewProfileContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_profile",type:"address"}],name:"deleteProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"getAcceptedProfiles",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"getLengthProfilesArray",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_start",type:"uint256"},{internalType:"uint256",name:"_end",type:"uint256"}],name:"getSliceProfilesArray",outputs:[{internalType:"address[]",name:"slice",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"getTransmittedProfiles",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_profile",type:"address"},{internalType:"address",name:"_wallet",type:"address"}],name:"isProfileBelongWallet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"},{internalType:"address",name:"_profile",type:"address"}],name:"transferProfileOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},6477:function(t,e,s){const{ethers:n}=s(2714),{abi:a}=s(425),r=s(7629),i=s(1832);r.config({EXPONENTIAL_AT:60});const o="0x360Fb5Ba5912C61E63232551259363eDf043BdB1",l="https://rpc.ankr.com/eth_goerli",c={method:"wallet_switchEthereumChain",params:[{chainId:"0x5"}]};let d,u,p;async function f(){if("undefined"===typeof window.ethereum)return console.log("Please install MetaMask"),!1;{const{ethereum:e}=window;try{await e.request({method:"eth_requestAccounts"}),d=new n.providers.Web3Provider(window.ethereum);const{chainId:t}=await d.getNetwork();return 5!==t&&await e.request(c),!0}catch(t){return console.log(t),!1}}}const _=()=>{try{const t=new i.providers.HttpProvider(l);return u=new i(t),!0}catch(t){return!1}};async function m(){const t=await window.ethereum.request({method:"eth_accounts"});return t.length}async function T(){const t=await window.ethereum.request({method:"eth_accounts"});return t[0]}async function E(){if(!p){const t=d.getSigner();p=new n.Contract(o,a,t)}}const y=async(t,e)=>{u||_();try{const s=new u.eth.Contract(a,o);return await s.methods[t].apply(this,e).call()}catch(s){return console.log(s),""}},h=async(t,e)=>{await E();try{console.log("params",e,t);const s=await p[t].apply(this,e);return s}catch(s){return console.log(s),s}};t.exports={connect:f,connectNode:_,checkAddress:m,fetchContractData:y,sendDataToContract:h,getFirstAddress:T}},6601:function(){}},e={};function s(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,n,a,r){if(!n){var i=1/0;for(d=0;d<t.length;d++){n=t[d][0],a=t[d][1],r=t[d][2];for(var o=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[l])}))?n.splice(l--,1):(o=!1,r<i&&(i=r));if(o){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,a,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,i=n[0],o=n[1],l=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var d=l(s)}for(e&&e(n);c<i.length;c++)r=i[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},n=self["webpackChunkprofile_management"]=self["webpackChunkprofile_management"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(915)}));n=s.O(n)})();
//# sourceMappingURL=app.f299fe7b.js.map